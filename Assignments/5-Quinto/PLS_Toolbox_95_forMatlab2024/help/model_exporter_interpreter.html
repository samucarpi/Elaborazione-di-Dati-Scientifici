<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Model Exporter Interpreter - Eigenvector Research Documentation Wiki</title>



    <link rel="stylesheet" href="load.css" media="screen" />        
  

<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href=""/>
<meta name="generator" content="MediaWiki 1.39.6"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Eigenvector Research Documentation Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://www.wiki.eigenvector.com/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Eigenvector Research Documentation Wiki Atom feed" href=""/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Model_Exporter_Interpreter rootpage-Model_Exporter_Interpreter skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><a href="https://wiki.eigenvector.com/index.php?title=Model_Exporter_Interpreter"><span class="mw-page-title-main">Model Exporter Interpreter</span></a></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Eigenvector Research Documentation Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p>The Model_Exporter Interpreter consists of two main versions, one for Microsoft .NET and one for Java. Both of these versions provide classes to apply Model_Exporter models to new data. The Interpreter can be used in any of these environments and includes all source files:
</p>
<ul><li>Java</li>
<li>Microsoft .NET environments (VS2012 or later)</li>
<li>Generic C#-based compilers</li></ul>
<p>The following describes the classes implemented and their use. The classes include the ModelInterpreter, Workspace, and Matrix classes.
</p><p>The ModelInterpreter class allows a software developer to indicate an exported model they want to make predictions with and the data that they want to make predictions from. They can then apply the model and access the prediction results. The other two classes (Matrix and Workspace) are used by ModelInterpreter and are available to the software developer to manage numerical data.
</p><p>The source code for these classes is supplied with Model_Exporter and can be used, compiled, and redistributed without restriction. Note that such redistribution permission does <b>not</b> permit the user to redistribute the Model_Exporter product itself - only the interpreter.
</p><p><br />
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Microsoft_.NET_Interpreter"><span class="tocnumber">1</span> <span class="toctext">Microsoft .NET Interpreter</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#ModelInterpreter_Class"><span class="tocnumber">1.1</span> <span class="toctext">ModelInterpreter Class</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Constructors"><span class="tocnumber">1.1.1</span> <span class="toctext">Constructors</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Methods"><span class="tocnumber">1.1.2</span> <span class="toctext">Methods</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Properties"><span class="tocnumber">1.1.3</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Examples"><span class="tocnumber">1.1.4</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Workspace_Class"><span class="tocnumber">1.2</span> <span class="toctext">Workspace Class</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Constructors_2"><span class="tocnumber">1.2.1</span> <span class="toctext">Constructors</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Methods_2"><span class="tocnumber">1.2.2</span> <span class="toctext">Methods</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Properties_2"><span class="tocnumber">1.2.3</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Examples_2"><span class="tocnumber">1.2.4</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Matrix_Class"><span class="tocnumber">1.3</span> <span class="toctext">Matrix Class</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Constructors_3"><span class="tocnumber">1.3.1</span> <span class="toctext">Constructors</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Methods_3"><span class="tocnumber">1.3.2</span> <span class="toctext">Methods</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Properties_3"><span class="tocnumber">1.3.3</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Examples_3"><span class="tocnumber">1.3.4</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Java_Interpreter"><span class="tocnumber">2</span> <span class="toctext">Java Interpreter</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#ModelInterpreter_Class_2"><span class="tocnumber">2.1</span> <span class="toctext">ModelInterpreter Class</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#Constructors_4"><span class="tocnumber">2.1.1</span> <span class="toctext">Constructors</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Methods_4"><span class="tocnumber">2.1.2</span> <span class="toctext">Methods</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Properties_4"><span class="tocnumber">2.1.3</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Examples_4"><span class="tocnumber">2.1.4</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-23"><a href="#Workspace_Class_2"><span class="tocnumber">2.2</span> <span class="toctext">Workspace Class</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="#Constructors_5"><span class="tocnumber">2.2.1</span> <span class="toctext">Constructors</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Methods_5"><span class="tocnumber">2.2.2</span> <span class="toctext">Methods</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Properties_5"><span class="tocnumber">2.2.3</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Examples_5"><span class="tocnumber">2.2.4</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28"><a href="#Matrix_Class_2"><span class="tocnumber">2.3</span> <span class="toctext">Matrix Class</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#Constructors_6"><span class="tocnumber">2.3.1</span> <span class="toctext">Constructors</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Methods_6"><span class="tocnumber">2.3.2</span> <span class="toctext">Methods</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#Properties_6"><span class="tocnumber">2.3.3</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#Examples_6"><span class="tocnumber">2.3.4</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Microsoft_.NET_Interpreter">Microsoft .NET Interpreter</span></h1>
<p>The following is a description of the .NET ModelInterpreter implementation, describing the classes and methods available. This implementation can also be used with generic C#-based compilers.
</p>
<h2><span class="mw-headline" id="ModelInterpreter_Class">ModelInterpreter Class</span></h2>
<p>The primary class in the Model_Exporter Interpreter is a <b>ModelInterpreter</b> object. The object's interface implements the ability to assign input data, specify a model to interpret and apply, and retrieve results from the application. Input data and results are all stored using the Matrix class described below.
</p>
<h3><span class="mw-headline" id="Constructors">Constructors</span></h3>
<table border="1" cellpadding="5" cellspacing="0" align="left">

<tbody><tr>
<td valign="top">
<p><tt>ModelInterpreter(String filename)</tt> 
</p>
</td>
<td>This form of the constructor method allows passing a filename of a Model_Exporter XML file which should be read and parsed for application.
</td></tr>
<tr>
<td valign="top">
<p><tt>ModelInterpreter(XmlDocument xdoc)</tt> 
</p>
</td>
<td>This form of the constructor method allows passing a XmlDocument object which contains the contents of a Model_Exporter XML file. This method may be preferred when the content of an exported model has been previously read and stored in another location like a database. In such cases, the alternative ways to create XmlDocuments (see the XmlDocument documentation) which can be used to pass the parsed XML contents directly to the ModelInterpreter class.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Methods">Methods</span></h3>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>apply()</tt> 
</p>
</td>
<td>Applies the model to the <i>inputdata</i> and stores results in the <i>results</i> property. This method has no return value itself. An error is thrown if <i>inputdata</i> has not already been assigned.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Properties">Properties</span></h3>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top" colspan="2">
<p><b>Read-Only Properties</b>
</p>
</td></tr>
<tr>
<td valign="top">
<p><tt>inputDataSize</tt>
</p>
</td>
<td>(Int32) The number of columns expected for the inputdata matrix.
</td></tr>
<tr>
<td valign="top">
<p><tt>modeltype</tt>         
</p>
</td>
<td>(String) The model type of the model. One of the supported model types such as: "PCA" "PLS" "PCR" "CLS" or "PLSDA" (or other supported model types) This often helps identify what variables are of interest in the <i>results</i> workspace after application of the model.
</td></tr>
<tr>
<td valign="top">
<p><tt>information</tt>         
</p>
</td>
<td>(XmlDocument) The raw, unparsed XML contained in the information section of the model. This may be of interest to help identify where the model came from, what the model is predicting, how many outputs to expect, etc. See the exported model's &lt;information&gt; tag for details included.
</td></tr>
<tr>
<td valign="top">
<p><tt>results</tt>         
</p>
</td>
<td>(Workspace) The workspace object that contains all the results after applying the model. This contains all the variables (see Workspace class below) that were used during model application as well as the variables which hold the results of interest such as <i>yhat</i>, <i>T2</i>, or <i>Q</i>.
<p>In particular, the results available from a model prediction will be present as variables in the script's workspace. The user is responsible for making use of these variables as needed. The list of output variables is the same as those listed under the <a href="model_exporter_reference_manual.html#Returned_Results" title="Model Exporter Reference Manual">M-file format description</a>.
</p>
</td></tr>
<tr>
<td valign="top" colspan="2">
<p><b>Read/Write Properties</b>
</p>
</td></tr>
<tr>
<td valign="top">
<p><tt>inputdata</tt>
</p>
</td>
<td>(Matrix) Specifies the data to which the model should be applied. Type is <i>Matrix</i> as defined using the Matrix class described below. This field is not modified by applying the model. Assigning a new value this field erases the results from a previous model application.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Examples">Examples</span></h3>
<p>The following C# example shows use of the ModelInterpreter class along with the Matrix and Workspace classes (described below). It start by creating a new ModelInterpreter object loading the model contained in plsexample.xml. It then creates a Matrix object with a vector of value from 1 to the number of variables expected by the model, stores this matrix in the inputdata, and applies the model. Finally, it retrieves the results from that model by listing ALL workspace contents. Alternatively, the commented-out code shows how the typical PLS (or other regression model) results would be retrieved specifically.
</p>
<pre> ModelInterpreter test = new ModelInterpreter("plsexample.xml");

 //display some of the common model information
 Console.WriteLine("Model type: " + test.modeltype);
 Console.WriteLine("Expected Data Size:" + test.inputDataSize);

 //create data to pass to the model
 Matrix inmatrix = new Matrix(1, test.inputDataSize);
 for (int i = 0; i &lt; inmatrix.NoCols; i++) { inmatrix[0, i] = i + 1; };
 test.inputdata = inmatrix;

 //set data and apply model           
 test.inputdata = inmatrix;     //assign input data to object
 test.apply();  //apply model

 //Typical outputs for a PLS or other regression model:
 //Console.WriteLine("yhat = " + test.results.getVar("yhat"));
 //Console.WriteLine("T2 = " + test.results.getVar("T2"));
 //Console.WriteLine("Q = " + test.results.getVar("Q"));
               
 //List ALL contents of workspace      
 foreach (String name in test.results.varList)
 {
   Console.WriteLine(name + " = \n" + test.results.getVar(name));
 }
</pre>
<p><b>Typical Outputs</b>
</p><p>Models output a number of variables in the workspace. Typical outputs are described in the <a href="model_exporter_reference_manual.html#Returned_Results" title="Model Exporter Reference Manual">m-file description in the main Model_Exporter page</a>.
</p>
<h2><span class="mw-headline" id="Workspace_Class">Workspace Class</span></h2>
<p>The Workspace class serves as a way to store any number of matrices (Matrix objects) each associated with a name. These names and their corresponding matrix are referred to as a "variable". A variable is stored in the workspace using the setVar() method and retrieved using the getVar() method.
</p><p>Note that although variables names can contain upper- and lower-case characters, the case is ignored when retrieving. Thus, a variable set using the name "Pred" can be set or retrieved using "Pred", "pred", or any other combination of upper- and lower-case. Since these two would be considered the same variable, you cannot set two different variables which are identical except for the case of the variable name.
</p>
<h3><span class="mw-headline" id="Constructors_2">Constructors</span></h3>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>Workspace()</tt> 
</p>
</td>
<td>Creates an instance of the Workspace class.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Methods_2">Methods</span></h3>
<p>The following methods are defined for the Workspace class. These are the primary means for assigning and retrieving values from a Workspace.
</p>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>setVar(String name, Matrix value)</tt> 
</p>
</td>
<td>Sets the variable specified by <i>name</i> with the matrix <i>value</i>. If <i>name</i> already exists in the workspace, the previous value is overwritten without any warning. This method returns nothing. <i>void setVar(String name, Matrix value)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>setVar(Workspace toadd)</tt> 
</p>
</td>
<td>Copies all variables in the <i>toadd</i> workspace into the workspace being addressed by the method. Any variables in the current workspace which have the same name as a variable in the <i>toadd</i> workspace are overwritten without warning. This method returns nothing. <i>void setVar(Workspace toadd)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>getVar(String name)</tt> 
</p>
</td>
<td>(Matrix) Retrieves the specified variable <i>name</i> from the workspace. Returned value is a Matrix object. <i>Matrix getVar(String name)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>isSet(String name)</tt> 
</p>
</td>
<td>(Boolean) Returns boolean <i>TRUE</i> if the given variable <i>name</i> is currently set in the workspace. <i>Boolean isSet(String name)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>clearAll()</tt> 
</p>
</td>
<td>Clears all values from the workspace. This method returns nothing. <i>void clearAll()</i>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Properties_2">Properties</span></h3>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>varList</tt> 
</p>
</td>
<td>(List&lt;String&gt;) Returns the alphabetically sorted list of names for all variables currently set in the Workspace as a List&lt;String&gt; type. These names can be used with the getVar method to retrieve the values.
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Examples_2">Examples</span></h3>
<p>The following example creates a new empty Workspace called "ws", a new Matrix (in this case, a vector with 1 row and 5 columns) called "myvalue", then stores myvalue into ws under the variable named "x". It then looks
</p>
<pre> Workspace ws = New Workspace();    //create new workspace
 Matrix myvalue = New Matrix(1,5);  //create all-zeros matrix "myvalue" as exmple
 ws.setVar("x",myvalue);            //assign variable "x" the value myvalue in workspace
</pre>
<p>Example of retrieving a variable from a workspace "ws"
</p>
<pre> if (ws.isSet("y"))                 //is the variable "y" assigned?
 {
   retrieved = ws.getVar("y");      //get value assigned in y
 }
 else
 {
   retrieved = New Matrix(0,0);     //no "y" was set? use empty matrix instead
 }
</pre>
<h2><span class="mw-headline" id="Matrix_Class">Matrix Class</span></h2>
<p>The Matrix class is defined through a public-domain class implemented in the cMatrixLib. This class allows storing and retrieval of data in a simple two-dimensional matrix as well as performing various matrix calculations on that data. For the purposes of the Model_Exporter Interpreter, the main use is to provide a convenient method to exchange data between the client and the interpreter. Thus, the details of the class are not given here, but only the main creation and access information. This class is used for the <i>inputdata</i> property and the variables stored in the <i>results</i> Workspace of the <b>ModelInterpreter</b>.
</p>
<h3><span class="mw-headline" id="Constructors_3">Constructors</span></h3>
<p>Constructor for a new Matrix object is by either specifying the size (in rows and columns) for the new Matrix, or by passing an array of Double to the constructor:
</p>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>Matrix(int rows, int columns)</tt> 
</p>
</td>
<td>Create a Matrix with the specified number of rows and columns. Matrix is initialized to all zeros. Note that rows = 0 and columns = 0 can be used to create an "empty" matrix. <tt>Matrix mymatrix = new Matrix(int rows, int columns)</tt>
</td></tr>
<tr>
<td valign="top">
<p><tt>Matrix(Double[,] data)</tt> 
</p>
</td>
<td>Create a Matrix from the Double array <i>data</i> using the sizes of that array. <tt>Matrix mymatrix = new Matrix(Double[,] data)</tt>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Methods_3">Methods</span></h3>
<p>Changing and accessing values in a matrix can be accomplished using standard (zero-based) indexing.
</p>
<pre> mymatrix[0,0] = value;   //replace element 0,0 with specified Double "value"
 value = mymatrix[0,0];   //retrieve value at element 0,0
</pre>
<h3><span class="mw-headline" id="Properties_3">Properties</span></h3>
<p>To determine the size of a given matrix, use the <i>NoRows</i> and <i>NoCols</i> properties:
</p>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>NoRows</tt> 
</p>
</td>
<td>(int) Returns the total number of rows the matrix object is currently dimensioned to contain.
</td></tr>
<tr>
<td valign="top">
<p><tt>NoCols</tt> 
</p>
</td>
<td>(int) Returns the total number of columns the matrix object is currently dimensioned to contain.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Examples_3">Examples</span></h3>
<p>Below are some general examples of using the constructors, methods, and properties specified above. Other methods exist which are not indicated in this documentation. See also the examples given for the Workspace class above.
</p><p>Create a matrix and populate it with some numbers:
</p>
<pre> Matrix mat = New Matrix(3,5);
 For (int row=0; row&lt;3; row++)
 {
   For (int col=0; col&lt;5; col++)
   {
     mat[row,col] = row*10 + col;   //assigns values to indicated row/column
   }
 }
</pre>
<p>Retrieve value from row 2 column 4:
</p>
<pre> Double value = mat[1,3];     //remember this is zero indexed
</pre>
<p>Display all elements of the first row of a matrix on the console:
</p>
<pre> int ncols = mat.NoCols;
 For (int col=0; col&lt;ncols; col++) Console.Write(mat[0,col] + "  ");
</pre>
<p><br />
</p>
<h1><span class="mw-headline" id="Java_Interpreter">Java Interpreter</span></h1>
<p>The following is a description of the Java ModelInterpreter implementation, describing the classes and methods available.
</p>
<h2><span class="mw-headline" id="ModelInterpreter_Class_2">ModelInterpreter Class</span></h2>
<p>The primary class in the Java Model_Exporter Interpreter is the <b>ModelInterpreter</b> class. The class interface allows the ability to assign input data, specify a model to interpret and apply, and retrieve results from the application. Input data and results are all stored using the <a rel="nofollow" class="external text" href="https://math.nist.gov/javanumerics/jama/">JAMA</a> Matrix class described below.
</p>
<h3><span class="mw-headline" id="Constructors_4">Constructors</span></h3>
<table border="1" cellpadding="5" cellspacing="0" align="left">

<tbody><tr>
<td valign="top">
<p><tt>ModelInterpreter(String filename)</tt> 
</p>
</td>
<td>This form of the constructor method allows passing a filename of a Model_Exporter XML file which should be read and parsed for application.
</td></tr>
<tr>
<td valign="top">
<p><tt>ModelInterpreter(org.w3c.dom.Document xdoc)</tt> 
</p>
</td>
<td>This form of the constructor method allows passing a org.w3c.dom.Document object which contains the contents of a Model_Exporter XML file. This method may be preferred when the content of an exported model has been previously read and stored in another location like a database. In such cases, the alternative ways to create org.w3c.dom.Document (see the org.w3c.dom.Document documentation) which can be used to pass the parsed XML contents directly to the ModelInterpreter class.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Methods_4">Methods</span></h3>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>apply()</tt> 
</p>
</td>
<td>Applies the model to the <i>myData</i> Matrix and stores results in the <i>myWorkspace</i> Workspace property. This method has no return value itself. An error is thrown if <i>myData</i> has not already been assigned.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Properties_4">Properties</span></h3>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top" colspan="2">
<p><b>Read-Only Properties</b>
</p>
</td></tr>
<tr>
<td valign="top">
<p><tt>inputDataSize</tt>
</p>
</td>
<td>(Int32) The number of columns expected for the inputdata matrix.
</td></tr>
<tr>
<td valign="top">
<p><tt>modeltype</tt>         
</p>
</td>
<td>(String) The model type of the model. One of the supported model types such as: "PCA" "PLS" "PCR" "CLS" or "PLSDA" (or other supported model types) This often helps identify what variables are of interest in the <i>myWorkspace</i> workspace after application of the model.
</td></tr>
<tr>
<td valign="top">
<p><tt>information</tt>         
</p>
</td>
<td>(XmlNode) The raw, unparsed XML contained in the information section of the model. This may be of interest to help identify where the model came from, what the model is predicting, how many outputs to expect, etc. See the exported model's &lt;information&gt; tag for details included.
</td></tr>
<tr>
<td valign="top">
<p><tt>myWorkspace</tt>         
</p>
</td>
<td>(Workspace) The workspace object that contains all the results after applying the model. This contains all the variables (see Workspace class below) that were used during model application as well as the variables which hold the results of interest such as <i>yhat</i>, <i>T2</i>, or <i>Q</i>.
<p>In particular, the results available from a model prediction will be present as variables in the script's workspace. The user is responsible for making use of these variables as needed. The list of output variables is the same as those listed under the <a href="model_exporter_reference_manual.html#Returned_Results" title="Model Exporter Reference Manual">M-file format description</a>.
</p>
</td></tr>
<tr>
<td valign="top" colspan="2">
<p><b>Read/Write Properties</b>
</p>
</td></tr>
<tr>
<td valign="top">
<p><tt>myData</tt>
</p>
</td>
<td>(Matrix) Specifies the data to which the model should be applied. Type is <i>Matrix</i> as defined using the Matrix class described below. This field is not modified by applying the model. Assigning a new value this field erases the results from a previous model application.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Examples_4">Examples</span></h3>
<p>The following Java code example shows use of the ModelInterpreter class along with the Matrix and Workspace classes (described below). It starts by creating a new ModelInterpreter object loading the model contained in plsexample.xml. It then creates a Matrix object with a vector of value from 1 to the number of variables expected by the model, stores this matrix in the inputdata, and applies the model. Next, it retrieves the typical PLS (or other regression model) results yhat, T2 and Q. 
Finally, it retrieves the listing of all workspace contents. 
</p>
<pre> ModelInterpreter test = new ModelInterpreter("plsexample.xml");
 
 //display some of the common model information
 String modeltype = test.getModelType();
 System.out.println("Model type: " + modeltype);
 System.out.println("Expected Data Size:" + test.getInputDataSize());
 
 //create data to pass to the model
 Matrix inmatrix = new Matrix(1, test.getInputDataSize());
 for (int i = 0; i &lt; inmatrix.getColumnDimension(); i++) { 
   inmatrix.set(0, i, (i+1));
 };
 
 //set data and apply model            
 test.setInputData(inmatrix);
 
 //apply model
 test.apply();
 
 //Typical outputs for a PLS or other regression model:
 Workspace res = test.getResults();
 Matrix yhat = test.getResults().getVar("yhat");
 System.out.println("yhat = " + yhat.get(0, 0));
 Matrix t2 = test.getResults().getVar("T2");
 Matrix q  = test.getResults().getVar("Q");
 System.out.println("T2 = " + test.getResults().getVar("T2").get(0, 0));
 System.out.println("Q = " + test.getResults().getVar("Q").get(0, 0));
 
 //List ALL contents of workspace  
 for(String varname&#160;: test.getMyWorkspace().getVarList()) {
   System.out.println(varname + " = \n" + test.getMyWorkspace().getVar(varname));
 }
</pre>
<p><b>Typical Outputs</b>
</p><p>Models output a number of variables in the workspace. Typical outputs are described in the <a href="model_exporter_reference_manual.html#Returned_Results" title="Model Exporter Reference Manual">m-file description in the main Model_Exporter page</a>.
</p>
<h2><span class="mw-headline" id="Workspace_Class_2">Workspace Class</span></h2>
<p>The Workspace class serves as a way to store any number of matrices (Matrix objects) each associated with a name. These names and their corresponding matrix are referred to as a "variable". A variable is stored in the workspace using the setVar() method and retrieved using the getVar() method.
</p><p>Note that although variables names can contain upper- and lower-case characters, the case is ignored when retrieving. Thus, a variable set using the name "Pred" can be set or retrieved using "Pred", "pred", or any other combination of upper- and lower-case. Since these two would be considered the same variable, you cannot set two different variables which are identical except for the case of the variable name.
</p>
<h3><span class="mw-headline" id="Constructors_5">Constructors</span></h3>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>Workspace()</tt> 
</p>
</td>
<td>Creates an instance of the Workspace class.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Methods_5">Methods</span></h3>
<p>The following methods are defined for the Workspace class. These are the primary means for assigning and retrieving values from a Workspace.
</p>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>setVar(String name, Matrix value)</tt> 
</p>
</td>
<td>Sets the variable specified by <i>name</i> with the matrix <i>value</i>. If <i>name</i> already exists in the workspace, the previous value is overwritten without any warning. This method returns nothing. <i>void setVar(String name, Matrix value)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>setVar(Workspace toadd)</tt> 
</p>
</td>
<td>Copies all variables in the <i>toadd</i> workspace into the workspace being addressed by the method. Any variables in the current workspace which have the same name as a variable in the <i>toadd</i> workspace are overwritten without warning. This method returns nothing. <i>void setVar(Workspace toadd)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>getVar(String name)</tt> 
</p>
</td>
<td>(Matrix) Retrieves the specified variable <i>name</i> from the workspace. Returned value is a Matrix object. <i>Matrix getVar(String name)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>isSet(String name)</tt> 
</p>
</td>
<td>(Boolean) Returns boolean <i>TRUE</i> if the given variable <i>name</i> is currently set in the workspace. <i>Boolean isSet(String name)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>clearAll()</tt> 
</p>
</td>
<td>Clears all values from the workspace. This method returns nothing. <i>void clearAll()</i>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Properties_5">Properties</span></h3>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>getVarList</tt> 
</p>
</td>
<td>(List&lt;String&gt;) Returns the alphabetically sorted list of names for all variables currently set in the Workspace as a List&lt;String&gt; type. These names can be used with the getVar method to retrieve the values.
</td></tr></tbody></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Examples_5">Examples</span></h3>
<p>The following example creates a new empty Workspace called "ws", a new Matrix (in this case, a vector with 1 row and 5 columns) called "myvalue", then stores myvalue into ws under the variable named "x". It then looks
</p>
<pre> Workspace ws = new Workspace();    //create new workspace
 Matrix myvalue = new Matrix(1,5);  //create all-zeros matrix "myvalue" as exmple
 ws.setVar("x",myvalue);            //assign variable "x" the value myvalue in workspace
</pre>
<p>Example of retrieving a variable from a workspace "ws"
</p>
<pre> Matrix retrieved = null;
 if (ws.isSet("y"))                 //is the variable "y" assigned?
 {
   retrieved = ws.getVar("y");      //get value assigned in y
 }
 else
 {
   retrieved = new Matrix(0,0);     //no "y" was set? use empty matrix instead
 }
</pre>
<h2><span class="mw-headline" id="Matrix_Class_2">Matrix Class</span></h2>
<p>The Matrix class is defined through a public-domain class implemented in the <a rel="nofollow" class="external text" href="https://math.nist.gov/javanumerics/jama/">Jama</a> package in the packaged Jama-1.0.3.jar file. This class allows storing and retrieval of data in a simple two-dimensional matrix as well as performing various matrix calculations on that data. For the purposes of the Model_Exporter Interpreter, the main use is to provide a convenient method to exchange data between the client and the interpreter. Thus, the details of the class are not given here, but only the main creation and access information. This class is used for the <i>myData</i> property and the variables stored in the <i>myWorkspace</i> Workspace of the <b>ModelInterpreter</b>.
</p>
<h3><span class="mw-headline" id="Constructors_6">Constructors</span></h3>
<p>Constructor for a new Matrix object is by either specifying the size (in rows and columns) for the new Matrix, or by passing an array of Double to the constructor:
</p>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>Matrix(int rows, int columns)</tt> 
</p>
</td>
<td>Create a Matrix with the specified number of rows and columns. Matrix is initialized to all zeros. Note that rows = 0 and columns = 0 can be used to create an "empty" matrix. <i>Matrix mymatrix = new Matrix(int rows, int columns)</i>
</td></tr>
<tr>
<td valign="top">
<p><tt>Matrix(Double[][] data)</tt> 
</p>
</td>
<td>Create a Matrix from the Double array <i>data</i> using the sizes of that array. <i>Matrix mymatrix = new Matrix(Double[][] data)</i>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Methods_6">Methods</span></h3>
<p>Changing and accessing values in a matrix can be accomplished using standard (zero-based) indexing.
</p>
<pre> mymatrix.set(0,0,value);     //replace element 0,0 with specified Double "value"
 value = mymatrix.get(0,0);   //retrieve value at element 0,0
</pre>
<h3><span class="mw-headline" id="Properties_6">Properties</span></h3>
<p>To determine the size of a given matrix, use the <i>NoRows</i> and <i>NoCols</i> properties:
</p>
<table border="1" cellpadding="5" cellspacing="0">

<tbody><tr>
<td valign="top">
<p><tt>getRowDimension</tt> 
</p>
</td>
<td>(int) Returns the total number of rows the matrix object is currently dimensioned to contain.
</td></tr>
<tr>
<td valign="top">
<p><tt>getColumnDimension</tt> 
</p>
</td>
<td>(int) Returns the total number of columns the matrix object is currently dimensioned to contain.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Examples_6">Examples</span></h3>
<p>Below are some general examples of using the constructors, methods, and properties specified above. Other methods exist which are not indicated in this documentation. See also the examples given for the Workspace class above.
</p><p>Create a matrix and populate it with some numbers:
</p>
<pre> Matrix mat = new Matrix(3,5);
 for (int row=0; row&lt;3; row++)
 {
   for (int col=0; col&lt;5; col++)
   {
     mat.set(row,col, row*10 + col);   //assigns values to indicated row/column
   }
 }
</pre>
<p>Retrieve value from row 2 column 4:
</p>
<pre> double value = mat.get(1,3);          //remember this is zero indexed
</pre>
<p>Display all elements of the first row of a matrix on the console:
</p>
<pre> int ncols = mat.getColumnDimension();
 for (int col=0; col&lt;ncols; col++) System.out.print(mat.get(0,col) + "  ");
</pre>
<!-- 
NewPP limit report
Cached time: 20240930205639
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.037 seconds
Real time usage: 0.043 seconds
Preprocessor visited node count: 100/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key newwiki_eigenvector_com:pcache:idhash:988-0!canonical and timestamp 20240930205639 and revision id 11291.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://www.wiki.eigenvector.com/index.php?title=Model_Exporter_Interpreter&amp;oldid=11291">https://www.wiki.eigenvector.com/index.php?title=Model_Exporter_Interpreter&amp;oldid=11291</a>"</div></div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href=""><span>Read</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="main_page.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Main-Page" class="mw-list-item"><a href="main_page.html"><span>Main Page</span></a></li><li id="n-PLS_Toolbox/Solo" class="mw-list-item"><a href="software_user_guide.html"><span>PLS_Toolbox/Solo</span></a></li><li id="n-MIA_Toolbox/Solo+MIA" class="mw-list-item"><a href="mia_toolbox_user_guide.html"><span>MIA_Toolbox/Solo+MIA</span></a></li><li id="n-Solo_Predictor" class="mw-list-item"><a href="solo_predictor_user_guide.html"><span>Solo_Predictor</span></a></li><li id="n-Model_Exporter" class="mw-list-item"><a href="model_exporter_user_guide.html"><span>Model_Exporter</span></a></li><li id="n-DataSet-Object" class="mw-list-item"><a href="dataset_object.html"><span>DataSet Object</span></a></li><li id="n-Frequently-Asked-Questions" class="mw-list-item"><a href="evri_faq.html"><span>Frequently Asked Questions</span></a></li><li id="n-Eigenvector-Homepage" class="mw-list-item"><a href="http://www.eigenvector.com/" rel="nofollow"><span>Eigenvector Homepage</span></a></li><li id="n-MediaWiki-Help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>MediaWiki Help</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 30 June 2021, at 13:09.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="eigenvector_research_documentation_wiki_privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="eigenvector_research_documentation_wiki_about.html">About Eigenvector Research Documentation Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="eigenvector_research_documentation_wiki_general_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></li>
</ul>

</footer>


<br/></body>
</html>