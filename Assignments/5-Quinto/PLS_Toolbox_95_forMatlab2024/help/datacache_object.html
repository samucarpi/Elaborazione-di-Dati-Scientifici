<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>DataCache object - Eigenvector Research Documentation Wiki</title>



    <link rel="stylesheet" href="load.css" media="screen" />        
  

<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href=""/>
<meta name="generator" content="MediaWiki 1.39.6"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Eigenvector Research Documentation Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://www.wiki.eigenvector.com/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Eigenvector Research Documentation Wiki Atom feed" href=""/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-DataCache_object rootpage-DataCache_object skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><a href="https://wiki.eigenvector.com/index.php?title=DataCache_object"><span class="mw-page-title-main">DataCache object</span></a></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Eigenvector Research Documentation Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#DataCache_Properties"><span class="tocnumber">2</span> <span class="toctext">DataCache Properties</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Retention_Policy_Properties"><span class="tocnumber">2.1</span> <span class="toctext">Retention Policy Properties</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Read-Only_Properties"><span class="tocnumber">2.2</span> <span class="toctext">Read-Only Properties</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#DataCache_Methods"><span class="tocnumber">3</span> <span class="toctext">DataCache Methods</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Adding_Data"><span class="tocnumber">4</span> <span class="toctext">Adding Data</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Example"><span class="tocnumber">4.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The DataCache object is an extension of the DataSet object used by Solo_Predictor as a time-based storage device. It allows retaining rows in a DataSet object for a given period of time or up to a given maximum number of rows. When new data is added to a DataCache, each row in the matrix is assigned a time stamp (if none was passed as the axisscale of a DataSet object) and data which has "expired" or old data that exceeds the maximum number of allowable rows is removed.
</p><p>DataCache objects can hold an unlimited number of "blocks", each with its own retention policy.
</p>
<h2><span class="mw-headline" id="DataCache_Properties">DataCache Properties</span></h2>
<h3><span class="mw-headline" id="Retention_Policy_Properties">Retention Policy Properties</span></h3>
<table border="1" cellspacing="0" cellpadding="5" style="margin-left:3em">

<tbody><tr>
<td><tt>.block</tt></td>
<td>Sets or retrieves the block being used by the DataCache object. Each block can have its own retention policy and each has its own underlying DataSet object. Default = 1.
</td></tr>
<tr>
<td><tt>.maxcount</tt></td>
<td>Sets or retrieves the maximum number of rows allowable by the retention policy. When an <tt>.add</tt> method would push the DataCache object over this number of rows, old rows are removed to keep the total at this limit. Default = 1000.
</td></tr>
<tr>
<td><tt>.maxage</tt></td>
<td>Sets or retrieves the maximum age (in hours) allowable by the retention policy. Data which is older than this are automatically removed from the DataCache. Default = 24.
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Read-Only_Properties">Read-Only Properties</span></h3>
<table border="1" cellspacing="0" cellpadding="5" style="margin-left:3em">

<tbody><tr>
<td><tt>.data</tt></td>
<td>Retrieves the current DataSet object for the current block.
</td></tr>
<tr>
<td><tt>.first</tt></td>
<td>Retrieves the text-formatted date associated with the oldest (first) item in the DataCache object.
</td></tr>
<tr>
<td><tt>.last</tt></td>
<td>Retrieves the text-formatted date associated with the newest (last) item in the DataCache object.
</td></tr></tbody></table>
<p><br />
</p>
<h2><span class="mw-headline" id="DataCache_Methods">DataCache Methods</span></h2>
<table border="1" cellspacing="0" cellpadding="5" style="margin-left:3em">
<tbody><tr>
<td><tt>.add(newdata)</tt></td>
<td>Appends newdata as new samples (rows) to the data. See "Adding Data" below.
</td></tr>
<tr>
<td><tt>.empty</tt></td>
<td>Removes all data from the current block regardless of retention policy.
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Adding_Data">Adding Data</span></h2>
<p>When new data is added to an existing DataCache block, several tests are performed:
</p>
<ol><li>The first samples axisscale set of the new data is checked for timestamps. If there is no axisscale{1} or it does not appear to contain valid timestamps, then all the rows in the new data are assigned a timestamp of the time at which the data was added. Any existing axisscale (that isn't a time stamp already) will be overwritten.</li>
<li>The number of variables (columns) in newdata are tested against the number of columns in the current data block. If they do not match, the current data block is overwritten with the new data.</li>
<li>Datacache objects are persistent and global meaning that the stored data will persist when Solo_Predictor is restarted and that any users accessing the same copy of Solo_Predictor will have access to the same datacache objects. Thus, data can be shared among users but care must be taken to avoid multiple users attempting to add data to the same datacache block (each block is handled separately, so an easy solution is to use separate blocks for each user.)</li></ol>
<h3><span class="mw-headline" id="Example">Example</span></h3>
<p>The following Solo_Predictor script opens the DataCache block #2, sets its maximum age to 48 hours, then adds mynewdata to the object:
</p>
<pre> obj = @datacache;
 obj.block = '[2]';
 obj.maxage = '[48]';
 obj.add(mynewdata);
</pre>
<p>The same thing as a Matlab-formatting call:
</p>
<pre> obj = datacache('block',2)  %get DataCache block 2
 obj.maxage = 48;            %set maxage to 48 hours
 obj.add(mynewdata);         %add "mynewdata" to current block
</pre>
<!-- 
NewPP limit report
Cached time: 20240930065426
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.006 seconds
Real time usage: 0.008 seconds
Preprocessor visited node count: 20/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key newwiki_eigenvector_com:pcache:idhash:1344-0!canonical and timestamp 20240930065426 and revision id 11608.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://www.wiki.eigenvector.com/index.php?title=DataCache_object&amp;oldid=11608">https://www.wiki.eigenvector.com/index.php?title=DataCache_object&amp;oldid=11608</a>"</div></div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href=""><span>Read</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="main_page.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Main-Page" class="mw-list-item"><a href="main_page.html"><span>Main Page</span></a></li><li id="n-PLS_Toolbox/Solo" class="mw-list-item"><a href="software_user_guide.html"><span>PLS_Toolbox/Solo</span></a></li><li id="n-MIA_Toolbox/Solo+MIA" class="mw-list-item"><a href="mia_toolbox_user_guide.html"><span>MIA_Toolbox/Solo+MIA</span></a></li><li id="n-Solo_Predictor" class="mw-list-item"><a href="solo_predictor_user_guide.html"><span>Solo_Predictor</span></a></li><li id="n-Model_Exporter" class="mw-list-item"><a href="model_exporter_user_guide.html"><span>Model_Exporter</span></a></li><li id="n-DataSet-Object" class="mw-list-item"><a href="dataset_object.html"><span>DataSet Object</span></a></li><li id="n-Frequently-Asked-Questions" class="mw-list-item"><a href="evri_faq.html"><span>Frequently Asked Questions</span></a></li><li id="n-Eigenvector-Homepage" class="mw-list-item"><a href="http://www.eigenvector.com/" rel="nofollow"><span>Eigenvector Homepage</span></a></li><li id="n-MediaWiki-Help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>MediaWiki Help</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 11 May 2022, at 11:23.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="eigenvector_research_documentation_wiki_privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="eigenvector_research_documentation_wiki_about.html">About Eigenvector Research Documentation Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="eigenvector_research_documentation_wiki_general_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></li>
</ul>

</footer>


<br/></body>
</html>