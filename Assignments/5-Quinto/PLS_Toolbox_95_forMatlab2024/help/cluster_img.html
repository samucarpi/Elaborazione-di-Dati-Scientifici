<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Cluster img - Eigenvector Research Documentation Wiki</title>



    <link rel="stylesheet" href="load.css" media="screen" />        
  

<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href=""/>
<meta name="generator" content="MediaWiki 1.39.6"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Eigenvector Research Documentation Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://www.wiki.eigenvector.com/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Eigenvector Research Documentation Wiki Atom feed" href=""/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Cluster_img rootpage-Cluster_img skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><a href="https://wiki.eigenvector.com/index.php?title=Cluster_img"><span class="mw-page-title-main">Cluster img</span></a></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Eigenvector Research Documentation Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Purpose"><span class="tocnumber">1</span> <span class="toctext">Purpose</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Synopsis"><span class="tocnumber">2</span> <span class="toctext">Synopsis</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Description"><span class="tocnumber">3</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Working_With_the_Results_Plot"><span class="tocnumber">3.1</span> <span class="toctext">Working With the Results Plot</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Inputs"><span class="tocnumber">3.2</span> <span class="toctext">Inputs</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Outputs"><span class="tocnumber">3.3</span> <span class="toctext">Outputs</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Options"><span class="tocnumber">4</span> <span class="toctext">Options</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#See_Also"><span class="tocnumber">5</span> <span class="toctext">See Also</span></a></li>
</ul>
</div>

<h3><span class="mw-headline" id="Purpose">Purpose</span></h3>
<p>Perform automatic clustering of image using sample distances.
</p>
<h3><span class="mw-headline" id="Synopsis">Synopsis</span></h3>
<dl><dd>[clas,basis,info,h] = cluster_img(x,nclusters,options)</dd>
<dd>clas = cluster_img(x,basis,options)</dd></dl>
<h3><span class="mw-headline" id="Description">Description</span></h3>
<p>The cluster_img method performs partitional clustering (also known as Divisive Cluster Analysis, or DCA) in which samples are segregated into some pre-defined number of clusters (input as <i>nclusters</i>) based on their distance to the mean of each cluster.
</p><p>The cluster_img method first identifies the specified number of unique samples (pixels) in a given image by using the DISTSLCT method and uses their responses as the target spectra for the clusters. All other pixels are then classified into one of those clusters based on which of the target spectra they are closest to. 
If option.algorithm = 'kmeans' then the classification is further refined where the mean of each cluster is then calculated and used as the new target spectrum for that cluster. All the pixels are re-evaluated for their cluster assignments again (allowing for some pixels to change assignment due to the change in target spectra). This process is repeated until pixels stop changing classes or the target spectra stop changing. The final mean of each cluster is considered the basis which can be used to make class assignments for new samples.
</p><p>If the algorithm is DISTSLCT, the means of the classes are not used in place of the target spectra.
</p><p>This function normally also implements a robustness test by discarding any target spectra which accumulate less than a specified percentage of the samples. Thus, very unusual pixels (samples) which are not like a significant portion of the other pixels will not be allowed to create useless clusters with no appreciable membership. See the minarea option, below.
</p>
<h4><span class="mw-headline" id="Working_With_the_Results_Plot">Working With the Results Plot</span></h4>
<p>The plot generated by a call to Partitional Clustering contains the classification results as well as information about the target spectra (basis) and correlations to those targets:
</p>
<ul><li><b>Class Assignments</b> - The plot is based on a DataSet object in which each sample/pixel has been assigned to a class corresponding to the target it was closest to during the clustering. The numerical data in the DataSet is the correlation of each sample/pixel with each of the target spectra (class means) plus the mean of all those correlations. The correlation serves as a rough indication of how strongly each pixel is assigned to each class. When classes are being shown (View &gt; Classes in Plot Controls) the color of each pixel indicates its class and the intensity indicates the correlation of that pixel to the class. In many cases this intensity relates to the signal level in the sample.</li></ul>
<dl><dd><dl><dd>The underlying classes can be viewed and extracted by Editing the DataSet object itself (Menu: <i>File &gt; Edit Data</i> in the Plot controls) and then viewing the Row Labels. The Class column contains the class assignments of each sample. This can be copied and pasted into the original X-data, or exported for other analysis.</dd></dl></dd></dl>
<ul><li><b>Class Basis / Targets</b> - A toolbar button on the figure provides access to the basis spectra (i.e. the targets; means of the classes). These are the means of each class. They can be saved or exported through the Plot Controls or DataSet Editor and can be used in, for example, a PLSDA, KNN, or CLS model as the calibration data.</li></ul>
<ul><li><b>Class Statistics</b> - The second toolbar button on the figure plots a histogram of how many samples were assigned to each class. This information is also available in text form by right-clicking any sample and choosing "View Class Statistics".</li></ul>
<h4><span class="mw-headline" id="Inputs">Inputs</span></h4>
<ul><li><b>[clas,basis,info,h] = cluster_img(x,nclusters,options)</b> - The data to cluster (x), the total number of clusters to form (nclusters), and an optional (options) structure (see below), or</li>
<li><b>[clas,basis,info,h] = cluster_img(x,max_fract,options)</b> - The data to cluster (x), the maximum fraction of samples allowed in a cluster (max_fract), and an optional (options) structure (see below), or</li>
<li><b>clas = cluster_img(x,basis,options)</b> - A "prediction" call given the data to cluster (x), a previously calculated basis set returned by cluster_img (basis), and an optional (options) structure.</li></ul>
<h4><span class="mw-headline" id="Outputs">Outputs</span></h4>
<p>Outputs are a vector of integer classes for each sample in x <tt>clas</tt>, the
corresponding normalized basis spectra <tt>basis</tt>, information on the
targets and correlation <tt>info</tt>, and the handle <tt>h</tt> of a figure if
created. The output <tt>info</tt> is a structure containing the following
fields:
</p>
<ul><li><b>corr</b> = the correlation of each pixel to each target.</li>
<li><b>targets</b> = the indices of the pixels used as targets.</li></ul>
<h3><span class="mw-headline" id="Options">Options</span></h3>
<p>options =  a structure array with the following fields:
</p>
<ul><li><b>plots</b>: [ 'none' |{'final'}] governs plotting of results.</li>
<li><b>algorithm</b>: [ 'distslct' |{'kmeans'}] algorithm for determining classes distslct is based solely on most unique samples; kmeans adjusts class target to mean of class (iterative).</li>
<li><b>minarea</b>: { 1 } minimum area (in&#160;%) that a class must account for to be retained as a unique class.</li>
<li><b>preprocessing</b>: { [] } preprocessing structure (see PREPROCESS).</li>
<li><b>pca</b>: [ {'no'} | 'yes' ] When 'yes', A PCA model is calculated from the data and the scores are used to perform clustering. The output basis is in terms of the original variables.</li>
<li><b>ncomp</b>: [ 1 ] Number of PCs (components) to retain from the PCA model. Only used if options.pca is 'yes'.</li></ul>
<h3><span class="mw-headline" id="See_Also">See Also</span></h3>
<p><a href="cluster.html" title="Cluster">cluster</a>, <a href="distslct.html" title="Distslct">distslct</a>, <a href="knn.html" title="Knn">knn</a>
</p>
<!-- 
NewPP limit report
Cached time: 20240930100559
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.006 seconds
Real time usage: 0.007 seconds
Preprocessor visited node count: 23/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key newwiki_eigenvector_com:pcache:idhash:665-0!canonical and timestamp 20240930100559 and revision id 11918.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://www.wiki.eigenvector.com/index.php?title=Cluster_img&amp;oldid=11918">https://www.wiki.eigenvector.com/index.php?title=Cluster_img&amp;oldid=11918</a>"</div></div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href=""><span>Read</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="main_page.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Main-Page" class="mw-list-item"><a href="main_page.html"><span>Main Page</span></a></li><li id="n-PLS_Toolbox/Solo" class="mw-list-item"><a href="software_user_guide.html"><span>PLS_Toolbox/Solo</span></a></li><li id="n-MIA_Toolbox/Solo+MIA" class="mw-list-item"><a href="mia_toolbox_user_guide.html"><span>MIA_Toolbox/Solo+MIA</span></a></li><li id="n-Solo_Predictor" class="mw-list-item"><a href="solo_predictor_user_guide.html"><span>Solo_Predictor</span></a></li><li id="n-Model_Exporter" class="mw-list-item"><a href="model_exporter_user_guide.html"><span>Model_Exporter</span></a></li><li id="n-DataSet-Object" class="mw-list-item"><a href="dataset_object.html"><span>DataSet Object</span></a></li><li id="n-Frequently-Asked-Questions" class="mw-list-item"><a href="evri_faq.html"><span>Frequently Asked Questions</span></a></li><li id="n-Eigenvector-Homepage" class="mw-list-item"><a href="http://www.eigenvector.com/" rel="nofollow"><span>Eigenvector Homepage</span></a></li><li id="n-MediaWiki-Help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>MediaWiki Help</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 29 May 2023, at 13:07.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="eigenvector_research_documentation_wiki_privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="eigenvector_research_documentation_wiki_about.html">About Eigenvector Research Documentation Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="eigenvector_research_documentation_wiki_general_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></li>
</ul>

</footer>


<br/></body>
</html>