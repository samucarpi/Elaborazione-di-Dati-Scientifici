<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Faq obtain or use recompilation license for PLS Toolbox - Eigenvector Research Documentation Wiki</title>



    <link rel="stylesheet" href="load.css" media="screen" />        
  

<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href=""/>
<meta name="generator" content="MediaWiki 1.39.6"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Eigenvector Research Documentation Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://www.wiki.eigenvector.com/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Eigenvector Research Documentation Wiki Atom feed" href=""/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Faq_obtain_or_use_recompilation_license_for_PLS_Toolbox rootpage-Faq_obtain_or_use_recompilation_license_for_PLS_Toolbox skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><a href="https://wiki.eigenvector.com/index.php?title=Faq_obtain_or_use_recompilation_license_for_PLS_Toolbox"><span class="mw-page-title-main">Faq obtain or use recompilation license for PLS Toolbox</span></a></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Eigenvector Research Documentation Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><h3><span class="mw-headline" id="Issue:">Issue:</span></h3>
<p>How do I obtain or use a recompilation license for PLS_Toolbox?
</p>
<h3><span class="mw-headline" id="Possible_Solutions:">Possible Solutions:</span></h3>
<p>The standard <a rel="nofollow" class="external text" href="http://www.eigenvector.com/software/license_evri.html">PLS_Toolbox license</a> does not permit recompilation of any part of the code without written permission from Eigenvector Research, Inc. This permission is usually in the form of a recompiliation license (for more information on recompilation licenses, see: our <a rel="nofollow" class="external text" href="http://www.eigenvector.com/evriblog/?p=27">Blog post on Compiling PLS_Toolbox</a> ). 
</p><p>If you have purchased a recompiliation license for PLS_Toolbox and/or other Matlab-based Eigenvector Research products, you can use the following instructions to compile your application including the licensed Eigenvector Research (EVRI) code.
</p>
<ol><li>A zip file containing your compilation license file should be avaialable from the <b>Other Files</b> tab in your account on the Eigenvector website. Unzip the file to get your <i>evrilicense.lic</i> file. These files/codes are version dependent so be sure to use the correct license code for your version of PLS_Toolbox. For example, if you are using PLS_Toolbox version 8.7.1 then you should be using a license code meant for PLS_Toolbox 8.7.X rather than PLS_Toolbox 8.6.X. If you were not supplied an <i>evrilicense.lic</i> file by EVRI, create one by copying the license code supplied for your compilation license (found on the download tab of your EVRI account) into a plain-text file named: <i>evrilicense.lic</i> The file should consist of the license code on a single line of the file. For example: <pre>12345678-98765432-ab-1234-1234</pre></li>
<li>Copy the <i>evrilicense.lic</i> file into one of the folders on your Matlab path. This could be either one of the PLS_Toolbox folders, or your application's folder.</li>
<li>Add the <i>evrilicense.lic</i> file to the "Shared Resources" list in the Matlab project builder. This will assure that the EVRI license gets included in the compiled application.</li>
<li>Compile your application as usual using Mathworks' standard instructions. The Matlab dependency logic will automatically include the PLS_Toolbox functions in your compiled application. (See note below regarding "blocking" certain functions from being included.)</li></ol>
<p><b>Blocking Unnecessary Functions</b>
</p><p>By default, Matlab's compiler automatically identifies all m-files which are necessary to run your application and includes all of these in the compiler output. Because of the integrated nature of many of the PLS_Toolbox functions, this can lead to "sprawl" - inclusion of many more functions than are actually needed. The follow steps can be taken to reduce the size of a compiled application:
</p>
<ul><li>Remove the <b>PLS_Toolbox/dems</b>, <b>PLS_Tooblox/help</b> and <b>PLS_Toolbox/utilities/guis</b> folders from your Matlab path prior to compiling. Files in these folders should be unnecessary for compilation.</li></ul>
<dl><dd><dl><dd><b>NOTE:</b> If you get an error mentioning "undefined function" try adding <b>PLS_Toolbox/utilities/guis</b> back to your path. I could be that a utility function in that folder is getting used by your code.</dd></dl></dd></dl>
<ul><li>Add "dummy" functions to reduce dependencies:</li></ul>
<dl><dd><dl><dd>One way to help reduce these unnecessary additions is to create empty "shell" functions to overload certain PLS_Toolbox functions. These functions, if placed in a folder above PLS_Toolbox when you are compiling, will shadow (hide) the actual function and help avoid sprawl. In particular the following functions are useful to shadow:</dd></dl></dd></dl>
<dl><dd><ul><li>analysis.m</li>
<li>browse.m</li>
<li>plotgui.m</li>
<li>editd.m</li>
<li>evriinstall.m</li>
<li>evrireporterror.m</li></ul></dd></dl>
<dl><dd><dl><dd>These functions will not be called in normal operation and, in most cases, our compilation licenses do not permit their inclusion in your application anyway.</dd>
<dd>Example of a "shell" function:</dd></dl></dd></dl>
<pre>function analysis</pre>
<p>Use the following function to create the files:
</p>
<pre>

function make_pls_toolbox_overload
%MAKE_PLS_TOOLBOX_OVERLOAD - Create empty versions of PLS_Toolbox functions.
% This function will create "shell" functions of highly interconnected
% PLS_Toolbox functions to reduce the size of applications being compiled
% with PLS_Toolbox command line functions.

%Instructions:
% * Create a folder and add it to the top of your Matlab path.
%
% * Copy this function to the folder and run it to create shell functions.
%
% * Remove the PLS_Toolbox/dems, PLS_Tooblox/help and
%   PLS_Toolbox/utilities/guis folders from your Matlab path.
%
% * Compile your application and test.

flist = {'analysis.m' 'evrireporterror.m' 'plotgui.m' 'browse.m' ...
  'figbrowser.m' 'editds.m' 'evriinstall.m' 'trendtool.m' 'evrireporterror.m'};


for i = 1:length(flist);
  try
    fileID = fopen(flist{i},'w');
    fprintf(fileID,'function %s\n 1',flist{i}(1:end-2));
    fclose(fileID);
  catch
    try
      fclose(fileID)
    end
    disp(['Error trying to create: ' flist{i}])
    disp(lasterr)
    disp('Continuing to create files...')
  end
end
</pre>
<p><br />
</p>
<ul><li>Find top level functions and see if you can "manually" determine dependencies. Look at the results of the top level dependency check and see what functions are called from the primary PLS_Toolbox function you're working with. If the dependencies are few, you may be able to iterate over the results (get 'toponly' dependencies from results) and get a smaller subset of dependencies. <b>NOTE</b>: This will require some experimentation and time to work through. The dataset object is extensively used by most function so this folder should almost always be included.</li></ul>
<pre> [fList, pList] = matlab.codetools.requiredFilesAndProducts('peakfind','toponly') </pre>
<ul><li>Use the Matlab profiler to analyze your code to determine what files are needed.</li></ul>
<p><b>Uninstall the Stats Toolbox </b>
</p><p>Although moving the Stats Toolbox below PLS_Toolbox on your MATLAB path (or removing the Stats Toolbox folders altogether) will allow the PLS_Toolbox DataSet Object to function normally, you must uninstall the Stats Toolbox before compiling PLS_Toolbox function that require the DataSet Object. 
</p><p>The MathWorks states: 
</p><p>"When you compile [a program] into an application and run it, the MATLAB Compiler Run-time references its in-built Dataset function which is higher in its PATH and hence runs the data against this inbuilt Dataset function."
</p><p>For more information on the DataSet Object history see here: 
</p>
<ul><li><a rel="nofollow" class="external text" href="http://www.eigenvector.com/evriblog/?p=10">DataSet Object Conflict</a></li>
<li><a rel="nofollow" class="external text" href="http://www.eigenvector.com/evriblog/?p=11">DataSet Object — Letter to MathWorks March 15, 2007</a></li></ul>
<p><b>Troubleshooting</b>
</p>
<ul><li>In some cases PLS_Toolbox may need to be moved out of the default installation folder into a folder with more permissions and/or no spaces in the path. For example, "C:\eigenvector\PLS_Toolbox".</li></ul>
<ul><li>If your application uses a figure and you have 'figbrowser' functionality turned on it will need to be turned off before compiling.</li></ul>
<pre>figbrowser('off')</pre>
<dl><dd>In some cases you may need to remove the 'defaultfigurecreatefcn' command manually. Check to see if figbrowser is in the function then remove it. Note that if you have additional functions in defaultfigurecreatefcn they will need to be added back.</dd></dl>
<pre>get(0,'defaultfigurecreatefcn')%check
set(0,'defaultfigurecreatefcn',[])%remove
</pre>
<p><b>Still having problems? Please contact our helpdesk at <a rel="nofollow" class="external text" href="mailto:helpdesk@eigenvector.com">helpdesk@eigenvector.com</a></b>
</p>
<!-- 
NewPP limit report
Cached time: 20240930052239
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.006 seconds
Real time usage: 0.009 seconds
Preprocessor visited node count: 23/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 1367/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key newwiki_eigenvector_com:pcache:idhash:1550-0!canonical and timestamp 20240930052239 and revision id 11190.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://www.wiki.eigenvector.com/index.php?title=Faq_obtain_or_use_recompilation_license_for_PLS_Toolbox&amp;oldid=11190">https://www.wiki.eigenvector.com/index.php?title=Faq_obtain_or_use_recompilation_license_for_PLS_Toolbox&amp;oldid=11190</a>"</div></div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="" title="Special:Categories">Category</a>: <ul><li><a href="category_faq.html" title="Category:FAQ">FAQ</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href=""><span>Read</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="main_page.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Main-Page" class="mw-list-item"><a href="main_page.html"><span>Main Page</span></a></li><li id="n-PLS_Toolbox/Solo" class="mw-list-item"><a href="software_user_guide.html"><span>PLS_Toolbox/Solo</span></a></li><li id="n-MIA_Toolbox/Solo+MIA" class="mw-list-item"><a href="mia_toolbox_user_guide.html"><span>MIA_Toolbox/Solo+MIA</span></a></li><li id="n-Solo_Predictor" class="mw-list-item"><a href="solo_predictor_user_guide.html"><span>Solo_Predictor</span></a></li><li id="n-Model_Exporter" class="mw-list-item"><a href="model_exporter_user_guide.html"><span>Model_Exporter</span></a></li><li id="n-DataSet-Object" class="mw-list-item"><a href="dataset_object.html"><span>DataSet Object</span></a></li><li id="n-Frequently-Asked-Questions" class="mw-list-item"><a href="evri_faq.html"><span>Frequently Asked Questions</span></a></li><li id="n-Eigenvector-Homepage" class="mw-list-item"><a href="http://www.eigenvector.com/" rel="nofollow"><span>Eigenvector Homepage</span></a></li><li id="n-MediaWiki-Help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>MediaWiki Help</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 10 November 2020, at 15:42.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="eigenvector_research_documentation_wiki_privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="eigenvector_research_documentation_wiki_about.html">About Eigenvector Research Documentation Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="eigenvector_research_documentation_wiki_general_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></li>
</ul>

</footer>


<br/></body>
</html>