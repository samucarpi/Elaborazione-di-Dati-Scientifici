<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Pls - Eigenvector Research Documentation Wiki</title>



    <link rel="stylesheet" href="load.css" media="screen" />        
  

<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href=""/>
<meta name="generator" content="MediaWiki 1.39.6"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Eigenvector Research Documentation Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://www.wiki.eigenvector.com/api.php?action=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Eigenvector Research Documentation Wiki Atom feed" href=""/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pls rootpage-Pls skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><a href="https://wiki.eigenvector.com/index.php?title=Pls"><span class="mw-page-title-main">Pls</span></a></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Eigenvector Research Documentation Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Purpose"><span class="tocnumber">1</span> <span class="toctext">Purpose</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Synopsis"><span class="tocnumber">2</span> <span class="toctext">Synopsis</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Description"><span class="tocnumber">3</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Inputs"><span class="tocnumber">3.1</span> <span class="toctext">Inputs</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Outputs"><span class="tocnumber">3.2</span> <span class="toctext">Outputs</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Options"><span class="tocnumber">4</span> <span class="toctext">Options</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Outputversion"><span class="tocnumber">4.1</span> <span class="toctext">Outputversion</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Algorithm"><span class="tocnumber">5</span> <span class="toctext">Algorithm</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Studentized_Residuals"><span class="tocnumber">5.1</span> <span class="toctext">Studentized Residuals</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#See_Also"><span class="tocnumber">6</span> <span class="toctext">See Also</span></a></li>
</ul>
</div>

<h3><span class="mw-headline" id="Purpose">Purpose</span></h3>
<p>Partial least squares regression for univariate or multivariate y-block.
</p>
<h3><span class="mw-headline" id="Synopsis">Synopsis</span></h3>
<dl><dd>model = pls(x,y,ncomp,<i>options</i>)       %identifies model (calibration step)</dd>
<dd>pred  = pls(x,model,<i>options</i>)         %makes predictions with a new X-block</dd>
<dd>valid = pls(x,y,model,<i>options</i>)       %makes predictions with new X- &amp; Y-block</dd>
<dd>pls&#160;%  launches analysis window with PLS selected</dd></dl>
<p>Please note that the recommended way to build and apply a PLS model from the command line is to use the Model Object. Please see <a href="evrimodel_objects.html" title="EVRIModel Objects"> this wiki page on building and applying models using the Model Object</a>. 
</p>
<h3><span class="mw-headline" id="Description">Description</span></h3>
<p>PLS calculates a single partial least squares regression model using the given number of components <tt>ncomp</tt> to predict a dependent variable <tt>y</tt> from a set of independent variables <tt>x</tt>.
</p><p>Alternatively, PLS can be used in 'predicton mode' to apply a previously built PLS model in <tt>model</tt> to an external set of test data in <tt>x</tt> (2-way array class "double" or "dataset"), in order to generate y-values for these data. 
</p><p>Furthermore, if matching x-block and y-block measurements are available for an external test set, then PLS can be used in 'validation mode' to predict the y-values of the test data from the model <tt>model</tt> and <tt>x</tt>, and allow comparison of these predicted y-values to the known y-values <tt>y</tt>.
</p><p>Note: Calling pls with no inputs starts the graphical user interface (GUI) for this analysis method. 
</p>
<h4><span class="mw-headline" id="Inputs">Inputs</span></h4>
<ul><li><b>x</b> = the independent variable (X-block) data (2-way array class "double" or class "dataset")</li>
<li><b>y</b> = the dependent variable (Y-block) data (2-way array class "double" or class "dataset")</li>
<li><b>ncomp</b> = the number of components to to be calculated (positive integer scalar)</li></ul>
<h4><span class="mw-headline" id="Outputs">Outputs</span></h4>
<ul><li><b>model</b> = a standard model structure model with the following fields (see <a href="standard_model_structure.html" title="Standard Model Structure">Standard Model Structure</a>):
<ul><li><b>modeltype</b>: 'PLS',</li>
<li><b>datasource</b>: structure array with information about input data,</li>
<li><b>date</b>: date of creation,</li>
<li><b>time</b>: time of creation,</li>
<li><b>info</b>: additional model information,</li>
<li><b>reg</b>: regression vector,</li>
<li><b>loads</b>: cell array with model loadings for each mode/dimension,</li>
<li><b>pred</b>: 2 element cell array with
<ul><li>model predictions for each input block (when options.blockdetail='normal' x-block predictions are not saved and this will be an empty array),and</li>
<li>the y-block predictions.</li></ul></li>
<li><b>wts</b>: double array with X-block weights,</li>
<li><b>tsqs</b>: cell array with T<sup>2</sup> values for each mode,</li>
<li><b>ssqresiduals</b>: cell array with sum of squares residuals for each mode,</li>
<li><b>description</b>: cell array with text description of model, and</li>
<li><b>detail</b>: sub-structure with additional model details and results.</li></ul></li></ul>
<ul><li><b>pred</b> a structure, similar to <b>model</b>, that contains scores, predictions, etc. for the new data.</li></ul>
<ul><li><b>valid</b> a structure, similar to <b>model</b>, that contains scores, predictions, and additional y-block statistics, etc. for the new data.</li></ul>
<p>Note: Calling pls with no inputs starts the graphical user interface (GUI) for this analysis method.
</p>
<h3><span class="mw-headline" id="Options">Options</span></h3>
<p><i>options</i> =  a structure array with the following fields:
</p>
<ul><li><b>display</b>: [ 'off' | {'on'} ], governs level of display to command window,</li>
<li><b>plots</b> [ 'none' | {'final'} ], governs level of plotting,</li>
<li><b>outputversion</b>: [ 2 | {3} ], governs output format (see below),</li>
<li><b>preprocessing</b>: {[] []}, two element cell array containing preprocessing structures (see PREPROCESS) defining preprocessing to use on the x- and y-blocks (first and second elements respectively)</li>
<li><b>algorithm</b>: [ 'nip' | {'sim'} | 'dspls' | 'robustpls' ], PLS algorithm to use: NIPALS, SIMPLS {default},  Direct Scores, or robust pls (with automatic outlier detection).</li>
<li><b>orthogonalize</b>: [ {'off'} | 'on' ] Orthogonalize model to condense y-block variance into first latent variable; 'on' = produce orthogonalized model. Regression vector and predictions are NOT changed by this option, only the loadings, weights, and scores. See <a href="orthogonalizepls.html" title="Orthogonalizepls">orthogonalizepls</a> for more information.</li>
<li><b>blockdetails</b>: [  'compact' | {'standard'} | 'all' ] level of detail (predictions, raw residuals, and calibration data) included in the model.</li></ul>
<dl><dd><ul><li>‘Standard’ = the predictions and raw residuals for the X-block as well as the X-block itself are not stored in the model to reduce its size in memory. Specifically, these fields in the model object are left empty: 'model.pred{1}', 'model.detail.res{1}', 'model.detail.data{1}'.</li>
<li>‘Compact’ = for this function, 'compact' is identical to 'standard'.</li>
<li>'All' = keep predictions, raw residuals for both X- &amp; Y-blocks as well as the X- &amp; Y-blocks themselves.</li></ul></dd></dl>
<ul><li><b>confidencelimit</b>: [ {'0.95'} ], confidence level for Q and T2 limits, a value of zero (0) disables calculation of confidence limits,</li>
<li><b>weights</b>: [ {'none'} | 'hist' | 'custom' ]  governs sample weighting. 'none' does no weighting. 'hist' performs histogram weighting in which large numbers of samples at individual y-values are down-weighted relative to small numbers of samples at other values. 'custom' uses the weighting specified in the weightsvect option.</li>
<li><b>weightsvect</b>: [ ] Used only with custom weights. The vector specified must be equal in length to the number of samples in the y block and each element is used as a weight for the corresponding sample. If empty, no sample weighting is done.</li>
<li><b>roptions</b>: structure of options to pass to rsimpls (robust PLS engine from the Libra Toolbox).
<ul><li><b>alpha</b>: [ {0.75} ], (1-alpha) measures the number of outliers the algorithm should resist. Any value between 0.5 and 1 may be specified. These options are only used when algorithm is 'robustpls'.</li></ul></li></ul>
<p>The default options can be retreived using: options = pls('options');.
</p>
<h4><span class="mw-headline" id="Outputversion">Outputversion</span></h4>
<p>By default (options.outputversion = 3) the output of the function is a standard model structure model. If options.outputversion = 2, the output format is:
</p>
<dl><dd>[b,ssq,p,q,w,t,u,bin] = pls(x,y,ncomp,<i>options</i>)</dd></dl>
<p>where the outputs are as defined for the <a href="nippls.html" title="Nippls">nippls</a> function. This is provided for backwards compatibility. It is recommended that users call the <a href="simpls.html" title="Simpls">simpls</a> or <a href="nippls.html" title="Nippls">nippls</a> functions directly.
</p><p>There is also a difference in the scores and loadings returned by the old version and the new (default) version. The old version (outputversion=2) keeps the variance in the loadings and the scores are normalized. The new version (outputversion=3) keeps the variance in the scores and has normalized loadings. The older format is related to the usage in the original algorithm publications. The newer format is used in order to maintain a standardized format across all PLS algorithms (robust PLS, and DSPLS).
</p>
<h3><span class="mw-headline" id="Algorithm">Algorithm</span></h3>
<p>Note that unlike previous versions of the PLS function, the default algorithm (see Options, above) is the faster SIMPLS algorithm. If the alternate NIPALS algorithm is to be used, the options.algorithm field should be set to 'nip'.
</p><p>Option 'robustpls' enables a robust method for Partial Least Squares Regression based on the SIMPLS algorithm. This uses the function 'rsimpls' from the well-known LIBRA Toolbox, developed by Mia Hubert's research group at the Katholieke Universiteit Leuven (kuleuven.be). The RSIMPLS method is described in:  Hubert, M., and Vanden Branden, K. (2003), "Robust Methods for Partial Least Squares Regression", Journal of Chemometrics, 17, 537-549.
</p>
<h4><span class="mw-headline" id="Studentized_Residuals">Studentized Residuals</span></h4>
<p>From version 8.8 onwards, the Studentized Residuals shown for PLS Scores Plot are now calculated for calibration samples as:
</p>
<pre> MSE   = sum((res).^2)./(m-ncomp);
 syres = res./sqrt(MSE.*(1-L));
</pre>
<p>where res = y residual, m = number of samples, ncomp = number of LV components and L = sample leverage.
This represents a constant multiplier change from how Studentized Residuals were previously calculated.
For test datasets the semi-Studentized residuals are calculated as:
</p>
<pre> MSE   = sum((res).^2)./(m-ncomp);
 syres = pres./sqrt(MSE);
</pre>
<p>This represents a constant multiplier change from how the semi-Studentized Residuals were previously calculated.
</p>
<h3><span class="mw-headline" id="See_Also">See Also</span></h3>
<p><a href="analysis.html" title="Analysis">analysis</a>, <a href="crossval.html" title="Crossval">crossval</a>, <a href="mlr.html" title="Mlr">mlr</a>, <a href="modelstruct.html" title="Modelstruct">modelstruct</a>, <a href="nippls.html" title="Nippls">nippls</a>, <a href="pcr.html" title="Pcr">pcr</a>, <a href="plsda.html" title="Plsda">plsda</a>, <a href="preprocess.html" title="Preprocess">preprocess</a>, <a href="ridge.html" title="Ridge">ridge</a>, <a href="simpls.html" title="Simpls">simpls</a>, <a href="evrimodel_objects.html" title="EVRIModel Objects">EVRIModel_Objects</a>
</p>
<!-- 
NewPP limit report
Cached time: 20240930201725
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc]
CPU time usage: 0.012 seconds
Real time usage: 0.013 seconds
Preprocessor visited node count: 35/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key newwiki_eigenvector_com:pcache:idhash:206-0!canonical and timestamp 20240930201725 and revision id 11003.
 -->
</div>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://www.wiki.eigenvector.com/index.php?title=Pls&amp;oldid=11003">https://www.wiki.eigenvector.com/index.php?title=Pls&amp;oldid=11003</a>"</div></div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href=""><span>Read</span></a></li></ul>
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			

		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="main_page.html"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation vector-menu-portal portal" aria-labelledby="p-navigation-label" role="navigation"  >
	<h3
		id="p-navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Main-Page" class="mw-list-item"><a href="main_page.html"><span>Main Page</span></a></li><li id="n-PLS_Toolbox/Solo" class="mw-list-item"><a href="software_user_guide.html"><span>PLS_Toolbox/Solo</span></a></li><li id="n-MIA_Toolbox/Solo+MIA" class="mw-list-item"><a href="mia_toolbox_user_guide.html"><span>MIA_Toolbox/Solo+MIA</span></a></li><li id="n-Solo_Predictor" class="mw-list-item"><a href="solo_predictor_user_guide.html"><span>Solo_Predictor</span></a></li><li id="n-Model_Exporter" class="mw-list-item"><a href="model_exporter_user_guide.html"><span>Model_Exporter</span></a></li><li id="n-DataSet-Object" class="mw-list-item"><a href="dataset_object.html"><span>DataSet Object</span></a></li><li id="n-Frequently-Asked-Questions" class="mw-list-item"><a href="evri_faq.html"><span>Frequently Asked Questions</span></a></li><li id="n-Eigenvector-Homepage" class="mw-list-item"><a href="http://www.eigenvector.com/" rel="nofollow"><span>Eigenvector Homepage</span></a></li><li id="n-MediaWiki-Help" class="mw-list-item"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents"><span>MediaWiki Help</span></a></li></ul>
		
	</div>
</nav>

	

<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="" title="A list of all wiki pages that link here [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-specialpages" class="mw-list-item"><a href="" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li><li id="t-permalink" class="mw-list-item"><a href="" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="" title="More information about this page"><span>Page information</span></a></li></ul>
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 6 February 2020, at 14:52.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="eigenvector_research_documentation_wiki_privacy_policy.html">Privacy policy</a></li>
	<li id="footer-places-about"><a href="eigenvector_research_documentation_wiki_about.html">About Eigenvector Research Documentation Wiki</a></li>
	<li id="footer-places-disclaimer"><a href="eigenvector_research_documentation_wiki_general_disclaimer.html">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></li>
</ul>

</footer>


<br/></body>
</html>